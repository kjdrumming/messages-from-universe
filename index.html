<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no" />
    <title>Messages from the Universe</title>
    <meta name="description" content="Receive inspiring messages from the universe" />
    <meta name="author" content="Messages from the Universe" />
    
    <!-- iOS Safari Compatibility -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Messages from Universe" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="mobile-web-app-capable" content="yes" />

    <meta property="og:title" content="Messages from the Universe" />
    <meta property="og:description" content="Receive inspiring messages from the universe" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
  </head>

  <body>
    <div id="root"></div>
    <!-- Fallback for browsers that do not support ES modules (older iOS Safari) -->
    <script nomodule>
      document.getElementById('root').innerHTML = '<div style="padding:2em;color:red;font-size:1.2em;text-align:center;">Your browser is not supported. Please update iOS or use a modern browser.</div>';
    </script>
    <script type="module" src="/src/main.tsx"></script>
    <!-- Global error handler for debugging blank screens -->
    <script>
      function showError(msg, stack) {
        var root = document.getElementById('root');
        if (root) {
          root.innerHTML = '<div style="padding:2em;color:red;font-size:1.2em;text-align:center;">Error: ' + msg + '<br><br><pre>' + (stack || '') + '</pre></div>';
        }
      }
      window.addEventListener('error', function(e) {
        showError(e.message, e.error ? e.error.stack : '');
      });
      window.addEventListener('unhandledrejection', function(e) {
        showError(e.reason ? (e.reason.message || e.reason) : 'Unhandled promise rejection', e.reason && e.reason.stack ? e.reason.stack : '');
      });
      // Console log to page for debugging
      (function() {
        var logDiv = document.createElement('div');
        logDiv.id = 'console-log-output';
        logDiv.style = 'background:#222;color:#fff;padding:1em;font-size:1em;max-height:30vh;overflow:auto;white-space:pre-wrap;word-break:break-word;';
        document.body.appendChild(logDiv);
        var oldLog = console.log;
        console.log = function() {
          var msg = Array.from(arguments).map(function(x) {
            if (typeof x === 'object') {
              try { return JSON.stringify(x); } catch(e) { return '[object]'; }
            }
            return String(x);
          }).join(' ');
          logDiv.innerHTML += msg + '\n';
          oldLog.apply(console, arguments);
        };
      })();
    </script>
  </body>
</html>
